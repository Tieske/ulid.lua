<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>ulid.lua</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ulid.lua</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Lua">Lua </a></li>
<li><a href="#Specification">Specification </a></li>
<li><a href="#Test_Suite">Test Suite </a></li>
</ul>


<h2>Topics</h2>
<ul class="">
  <li><strong>readme</strong></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../index.html">ulid</a></li>
</ul>

</div>

<div id="content">

    <h1>Universally Unique Lexicographically Sortable Identifier for Lua</h1>

<p>Based on the <a href="https://github.com/alizain/ulid">implementation by alizain</a></p>

<p>UUID can be suboptimal for many uses-cases because:</p>

<ul>
<li>It isn&rsquo;t the most character efficient way of encoding 128 bits of randomness</li>
<li>UUID v1/v2 is impractical in many environments, as it requires access to a unique, stable MAC address</li>
<li>UUID v3/v5 requires a unique seed and produces randomly distributed IDs, which can cause fragmentation in many data structures</li>
<li>UUID v4 provides no other information than randomness which can cause fragmentation in many data structures</li>
</ul>


<p>Instead, herein is proposed ULID:</p>

<ul>
<li>128-bit compatibility with UUID</li>
<li>1.21e+24 unique ULIDs per millisecond</li>
<li>Lexicographically sortable!</li>
<li>Canonically encoded as a 26 character string, as opposed to the 36 character UUID</li>
<li>Uses Crockford&rsquo;s base32 for better efficiency and readability (5 bits per character)</li>
<li>Case insensitive</li>
<li>No special characters (URL safe)</li>
</ul>


<p><a name="Lua"></a></p>

<h2>Lua</h2>

<h3>Installation</h3>

<pre><code> luarocks install ulid
</code></pre>

<h3>Usage</h3>

<pre>
<span class="keyword">local</span> ulid_mod = <span class="global">require</span>(<span class="string">"ulid"</span>)

<span class="global">print</span>(ulid_mod.ulid())  <span class="comment">-- 01ARZ3NDEKTSV4RRFFQ69G5FAV</span>
</pre>


<p><a name="Specification"></a></p>

<h2>Specification</h2>

<p>Below is the current specification of ULID as implemented in this repository.</p>

<p><em>Note: the binary format has not been implemented.</em></p>

<pre><code>  01AN4Z07BY      79KA1307SR9X4MV3

 |----------|    |----------------|
  Timestamp          Randomness
    48bits             80bits
</code></pre>

<h3>Components</h3>

<p><strong>Timestamp</strong></p>

<ul>
<li>48 bit integer</li>
<li>UNIX-time in milliseconds</li>
<li>Won&rsquo;t run out of space till the year 10895 AD.</li>
</ul>


<p><strong>Randomness</strong></p>

<ul>
<li>80 bits</li>
<li>Please make sure to use cryptographically secure source of randomness, if possible</li>
</ul>


<h3>Sorting</h3>

<p>The left-most character must be sorted first, and the right-most character sorted last (lexical order). The default ASCII character set must be used. Within the same millisecond, sort order is not guaranteed</p>

<h3>Encoding</h3>

<p>Crockford&rsquo;s Base32 is used as shown. This alphabet excludes the letters I, L, O, and U to avoid confusion and abuse.</p>

<pre><code> 0123456789ABCDEFGHJKMNPQRSTVWXYZ
</code></pre>

<h3>String Representation</h3>

<pre><code> ttttttttttrrrrrrrrrrrrrrrr

 where
 t is Timestamp
 r is Randomness
</code></pre>

<p><a name="Test_Suite"></a></p>

<h2>Test Suite</h2>

<p>Tests can be run from the repo using <code>busted</code></p>

<pre><code> busted
</code></pre>

</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2017-03-28 14:40:33 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
